<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chatbot</title>
 
    <link href="https://fonts.cdnfonts.com/css/poppins" rel="stylesheet" />
 
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider/distribute/nouislider.min.css">
    <script src="https://cdn.jsdelivr.net/npm/nouislider/distribute/nouislider.min.js"></script>
   
  </head>
  <style>
  .tooltips{
    position: absolute;
    bottom: 100px;
    right: 80px;
  }
   
 
  </style>
  <body>
    <!-- Button to open chatbot -->
    <!-- Button to open chatbot -->
  
    <div class="tooltip-container">
      <img
          id="chatbotToggle"
          src="https://kontakt.com.tn/web/image/292971/Chatbot%20icon.png"
        />
        <span id="chatbotTooltip" class="tooltips"></span>
      </div>
       
      <audio id="notificationSound" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3" preload="auto"></audio>
    <!-- Chatbot Interface -->
    <div id="chatbot" class="close">
      <div
        id="chatbotHeader"
        style="display: flex; justify-content: space-between"
      >
        <span style="font-weight: 600"><img style="height: 32px" src="https://kontakt.com.tn/web/image/292701/kontakt-logoHome.png"/></span>
        <button type="submit" onclick="resetChat()" class="btn btn-light">
          <i class="fa-solid fa-repeat"></i>
        </button>
      </div>
 
      <div id="chatbotBody">
        
        <div id="start_conv">
         
          <img
            src="https://kontakt.com.tn/web/image/292971/Chatbot%20icon.png"
            alt="Avatar"
            style="
              width: 53px;
              height: 53px;
              vertical-align: middle;
              border-radius: 30px;
              object-fit: cover;
            "
          />
         
          <span style="vertical-align: middle">  {{ initial_greeting|safe }} </span>
        </div>
        <!-- Interaction flow containers -->
        <div id="chatbotMsg"></div>
      </div>
 
      <div class="button-chatbot" id="chatbotButton">
        <div id="productTypesContainer" class="button-container"></div>
        <div id="lang" class="button-container">
          <button onclick="selectLang('anglais')">En</button>
          <button onclick="selectLang('fran√ßais')">Fr</button>
          <button onclick="selectLang('darija tunisienne')">Tn</button>
      </div>
        <div id="gendersContainer" class="button-container hidden"></div>
        <div id="colorsContainer" class="button-container hidden"></div>
        <div id="washTypesContainer" class="button-container hidden"></div>
        <div id="millsContainer" class="button-container hidden"></div>
        <div id="priceContainer" class="button-container hidden"></div>
        <div id="priceRange" class="button-container hidden">
        </div>
        <div style="display: flex; justify-content: space-between;" id="labelRange" class="button-container hidden">
        <span id="priceMinLabel" class="price-label hidden"></span>
        <span id="priceMaxLabel" class="price-label hidden"></span>
        </div>
        <div id="okPrice" class="button-container hidden">
 
          </div>
 
      </div>
      <div id="loading">
       <!--  <div class="lds-hourglass"></div> -->
      </div>
      <div id="chatInputContainer">
        <input type="text" id="userInput" placeholder="Ecrire un message." />
        <button id="sendButton">
          <i class="fa-brands fa-telegram"></i>
        </button>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
 
    <script  type="module" src="{{ url_for('static', filename='js/script1.js') }}"></script>
    <script  type="module" src="{{ url_for('static', filename='js/script2.js') }}"></script>
    <script   src="{{ url_for('static', filename='js/script3.js') }}"></script>
    <script>
      const chatbotTooltip = document.getElementById('chatbotTooltip');
      const notificationSound = document.getElementById('notificationSound');
     




      function showReminderMessage() {
        const reminderMessage = " √áa y est ! ch9awlek fi les produit mte3na ‚úåÔ∏èüéÄ";
        chatbotTooltip.textContent = reminderMessage;
        chatbotTooltip.style.visibility = 'visible';
     
 
     
        // Play the notification sound
        notificationSound.play();
      }
     
      function hideReminderMessage() {
        chatbotTooltip.style.visibility = 'hidden';
      }
     
      setInterval(showReminderMessage, 10 * 60 * 1000); // Adjust to how often you want the message to show, for example each minute
      setInterval(hideReminderMessage, 60000); // Hides the message after 60 seconds

    </script>
    <script>
      const userInput=document.getElementById("userInput");
     const sendButton=document.getElementById("sendButton");
     userInput.disabled = true;
     sendButton.disabled = true;
   </script>
 
  </body>
</html> 